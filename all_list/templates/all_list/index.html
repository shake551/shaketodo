{% load static %}
<!DOCTYPE html>
<html lang="jp"> 
<head>
    <meta charset="UTF-8">
    <title>all_list</title>
    <style>
        table{
            width: 100%;
            height: 100%;
            table-layout: fixed;
        }
        .fixbox{
            border: 1;
            width: 100%;
            height: 100%;
            top: 5px;
            position: sticky;
            color: #fff;
            background: #333;
            z-index: 1;
        }
        .calrow{
            height: 100%;
        }
        .calbox{
            width: 100%;
            height: 100%;
            table-layout: fixed;
            height: auto;
            position: relative;
        }
        .cal-button{
            display: inline-block;
            width: 100%;
            height: 100%;
            border: none;
            background: white;
        }
        .day{
            position: absolute;
            right: 0%;
            top: 0%;
        }
        .todo{
            display: inline-block;
            width: 100%;
            text-align: center;
        }
        .checkbox{
            position: absolute;
            display: inline-block;
            left: 5%;
            content: '';
            width: 20px;
            height: 20px;
            border: 1px solid #9c9c9c;
            border-radius: 50%;
        }
        .check{
            content: '';
            display: inline-block;
            position: absolute;
            left: 20%;
            top: 30%;
            width: 10px;
            height: 5px;
            border-left: solid #25AF01;
            border-bottom: solid #25AF01;
            transform: rotate(-45deg);
        }
        .btn{
            position: relative;
            width: 5%;
            padding-top: 5%;
            background: gray;
            border-radius: 50%;
            left: 50%;
        }
        .link{
            position: absolute;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            width: 100%;
            text-align: center;
            font-size: 5vw;
            color: white;
            text-decoration: none;
        }
    </style>
</head>

<body>
    <h1>
        {{ year_and_month }}
    </h1>
    <div>
        <table class="fixbox", border="1">
            <tr>
                <th>
                    <p align="center">
                        Su
                    </p>
                </th>
                <th>
                    <p align="center">
                        Mo
                    </p>
                </th>
                <th>
                    <p align="center">
                        Tu
                    </p>
                </th>
                <th>
                    <p align="center">
                        We
                    </p>
                </th>
                <th>
                    <p align="center">
                        Th
                    </p>
                </th>
                <th>
                    <p align="center">
                        Fr
                    </p>
                </th>
                <th>
                    <p align="center">
                        Sa
                    </p>
                </th>
            </tr>
        </table>
        <table border="1" , width="100%">
            {% for data in monthly_calendar %}
            <tr class="calrow">
                {% for day, todo in data %}
                <td class="calbox">
                    <button class="cal-button">
                        <p>
                            <span class="day">
                                {{ day }}
                            </span>
                            {% for task in todo %}
                            {% if task.0 != '' %}
                            <span class="todo">
                                <span class="checkbox">
                                    {% if task.2 == True %}
                                    <span class="check"></span>
                                    {% endif %}
                                </span>
                                {{ task.0 }}
                                <a href="{% url 'edit_todo' task.1 %}">edit</a>
                            </span>
                            {% else %}
                            <span class="todo"></span>
                            {% endif %}
                            {% endfor %}
                        </p>
                    </button>
                </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </table>
    </div>
    <div class="btn">
        <a href="/all_list/create_todo" class="link">ï¼‹</a>
    </div>
</body>
</html>